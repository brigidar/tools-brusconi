<tool id="NUcmer" name="Nucmer" version="0.1">

    <description>NUCmer</description>

    <command>
       nucmer
       ${cmd}
       --coords
        ${input_query}
        ${input_ref}
        
       
        
    </command>
    <stdio>
       <regex match="1\: PREPARING DATA*\# CONSTRUCTIO" 
           source="stderr" 
           level="warning"
           description="Just ignore this message that goes to stderr" />
    </stdio>


    <inputs>
        <param format="fasta" name="input_ref" type="data" label="Reference" help=""/>
        <param format="fasta" name="input_query" type="data" label="Query" help=""/>
        <param name="cmd" type="text" size="40" value="" label="Extra cmd line options" help="see specific cmd line options below" />
        
    </inputs>
    <outputs>
        <data format="tabular"  name="coordinates" from_work_dir="out.coord" label="${input_query}.name_coords">
            </data>
        <data format="tabular"  name="delta" from_work_dir="out.delta" label="${input_query.name}_delta">
            </data>
    </outputs>
    
    <tests>
    <!-- Empty -->
    </tests>
    <help>
.. class:: infomark

**What it does**


finds repeated regions within the reference genome with NUCmer. Possible command options

* --mum Use anchor matches that are unique in both the reference and query
* --mumreference Use anchor matches that are unique in the reference but not necessarily unique in the query (default behavior)
* --maxmatch Use all anchor matches regardless of their uniqueness
* --breaklen Distance an alignment extension will attempt to extend poor scoring regions before giving up (default 200)
* --mincluster Minimum cluster length (default 65)
* --delta Toggle the creation of the delta file. Setting --nodelta prevents the alignment extension step and only outputs the match clusters (default --delta)
* --depend Print the dependency information and exit
* --diagfactor Maximum diagonal difference factor for clustering, i.e. diagonal difference / match separation (default 0.12)
* --extend Toggle the outward extension of alignments from their anchoring clusters. Setting --noextend will prevent alignment extensions but still align the DNA between clustered matches and create the .delta file (default --extend)
* --forward Align only the forward strands of each sequence
* --maxgap Maximum gap between two adjacent matches in a cluster (default 90)
* --help Print the help information and exit
* --minmatch Minimum length of an maximal exact match (default 20)
* --optimize Toggle alignment score optimization. Setting --nooptimize will prevent alignment score optimization and result in sometimes longer, but lower scoring alignments (default --optimize)
* --reverse Align only the reverse strand of the query sequence to the forward strand of the reference
* --simplify Simplify alignments by removing shadowed clusters. Turn this option off (--nosimplify) if aligning a sequence to itself to look for repeats (default --simplify)
* --version Print the version information and exit

-----

.. class:: infomark

**Wrapper Author**

Brigida Rusconi
    </help>
</tool>
